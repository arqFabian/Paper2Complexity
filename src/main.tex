%! Author = arqfa
%! Date = 8/8/2023


%!Document class for final manuscript
\documentclass[final,5p,times]{elsarticle}% Turn on the 'final' option to hide all changes and produce a clean output

%!document class for changes tracking
%\documentclass[5p,times]{elsarticle}% turn on for changes
%! package for tracking changes

\usepackage[final]{changes} %Turn on the 'final' option to hide all changes and produce a clean output
%\usepackage{changes}% turn on when going for manuscript with changes

    %% Added Text: Use \added{new text} to indicate added text.
    %Deleted Text: Use \deleted{old text} for text you have removed.
    %Replaced Text: Use \replaced{new text}{old text} to show text that has been replaced.

%% For including figures, graphicx.sty has been loaded in
%% elsarticle.cls.


%!Packages
%% The amssymb package provides various useful mathematical symbols
\usepackage{amssymb}
%% The amsthm package provides extended theorem environments
\usepackage{amsthm}
\usepackage{graphicx}
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{amsmath} % for equations
\usepackage{breakurl}
\usepackage{hyperref} % Ensure hyperlinks work properly


%% The lineno packages adds line numbers. Start line numbering with
%%\begin{linenumbers}, end it with \end{linenumbers}. Or switch it on
%% for the whole article with \linenumbers
\usepackage{lineno}
\modulolinenumbers[10]
\usepackage{enumitem}

%\usepackage{amsmath}

\usepackage{multirow}

\usepackage{caption}

\journal{Automation in Construction}


% Document
\begin{document}

\begin{frontmatter}


\title{Embracing Complexity: Virtual Reality Assessment of User Tolerance for Complex Facades in Future Construction Trends}

%% use optional labels to link authors explicitly to addresses:
%% \author[label1,label2]{}
%% \affiliation[label1]{organization={},
%%             addressline={},
%%             city={},
%%             postcode={},
%%             state={},
%%             country={}}
%%
%% \affiliation[label2]{organization={},
%%             addressline={},
%%             city={},
%%             postcode={},
%%             state={},
%%             country={}}

\author[inst1]{Fabian Jarrin}
\author[inst2]{Yasuko Koga}
\author[inst3]{Diego Thomas}

\affiliation[inst1]{organization={Graduate School of Human-Environment Studies, Department of Architecture, Kyushu University},%Department and Organization
            addressline={744 Motooka, Nishi-ku},
            city={Fukuoka},
            postcode={819-0395},
            %state={Fukuoka},
            country={Japan}}

\affiliation[inst2]{organization={Faculty of Human-Environment Studies, Department of Architecture and Urban Design, Kyushu University},%Department and Organization
            addressline={744 Motooka, Nishi-ku},
            city={Fukuoka},
            postcode={819-0395},
            %state={Fukuoka},
            country={Japan}}

\affiliation[inst3]{organization={Faculty of Information Science and Electrical Engineering, Department of Advanced Information Technology, Kyushu University},%Department and Organization
            addressline={744 Motooka, Nishi-ku},
            city={Fukuoka},
            postcode={819-0395},
            %state={Fukuoka},
            country={Japan}}



\begin{abstract}
%% Text of abstract
\input{Text/Abstract}

\end{abstract}


%%Graphical abstract

\begin{graphicalabstract}
    \centering
    \includegraphics[width= \textwidth, trim = 0 80 0 80, clip]{Images/GraphicAbstract}
    \label{fig:graphic_abstract}
\end{graphicalabstract}

%%Research highlights
\begin{highlights}
\input{Text/highlight}
\end{highlights}

\begin{keyword}
%% keywords here, in the form: keyword \sep keyword
Data-driven design\sep Complex Facades \sep Mixed Reality Assessment \sep Architectural Aesthetics\sep Technological Innovation\sep

\end{keyword}

\end{frontmatter}
%\linenumbers
%\modulolinenumbers[10]
%
\begin{linenumbers}


\section{Introduction}
\label{sec:1Introduction}
%%State the objectives of the work and provide an adequate background, avoiding a detailed literature survey or a summary of the results.
\input{Text/Introduction}

        %!%Figures of timelines
        % Old, middle and contemporary timeline
        \begin{table*}[htb]
                \centering
                \small
                \begin{tabularx}{\textwidth}{X}
                    \centering
                    \includegraphics[width= \linewidth]{Images/OldTimeline}
                    \captionof{figure}{Example of historical oscillations between complexity and simplicity in architecture history. (Left to right) Romanesque, Gothic, Classicism, Baroque, Neo-classicism. (\textit{Images edited from source})}
                    \label{fig:Oldtimeline}
                    \\
                    \centering
                    \includegraphics[width= \linewidth]{Images/MiddleTimeline}
                    \captionof{figure}{Example of historical oscillations between complexity and simplicity in architecture history. (Left to right) Art Nouveau, Art Deco, Modernism, Post Modernism. (\textit{Images edited from source})}
                    \label{fig:Middletimeline}
                    \\
                    \centering
                    \includegraphics[width= \linewidth]{Images/contemporaryTimeline}
                    \captionof{figure}{Era of exploration in contemporary architecture. (Left to right) Deconstructivism, Neofuturism, High-tech modernism, Parametricism, Pragmatic utopianism. (\textit{Images edited from source})}
                    \label{fig:contemporarytimeline}
                \end{tabularx}
            \end{table*}

\section{Theory Framework}
\label{sec:Theory Framework}
\input{Text/TheoryFramework}

    \subsection{Human-Centric Design Philosophy across the history of architecture styles}
    \label{subsec:TimelineArchitectureStyles}
    \input{Text/TheoryHistoryArchStyles}

    \subsection{Cultural Significance of Facades and Ornament}
    \label{subsec:FacadeandOrnament}
    \input{Text/TheoryFacadeOrnament}

    %\subsection{Digital fabrication and Environmental Sustainability}
    %\label{subsec:DigitalFabricationAndEnvSustainability}
    %\input{text/DigFabricationEnvTheory}

            %!% Figures Methodology intro
            %% Methodology Flowchart
            \begin{figure*}[!htb]
                \centering
                \includegraphics[width= \linewidth]{Images/MethodologyFlowchart}~\caption{Methodology Flowchart illustrating the sequential steps of this study's approach framework designed to assess the tolerance of users towards complex facade design. Higlighting the transition from VR system development (\ref{subsec:VRsystemDevelopment}), experiment design (\ref{subsec:Experiment_design}) and post-experiment data analysis phase. }
                  \label{fig:MethodologyFlowchart}
            \end{figure*}

\section{Methodology}
\label{sec:Methodology}
\input{Text/MethodologyIntro}

            %!%Figures and table CICA
            %Flowchart CICA, Figure of Cica on historical buildings and renders, PI table. Table 1x3
            \begin{table*}[h!tb]
                \centering
                \small
                \begin{tabular}{c}
                    %Top cell with one figure
                    %Figure Computational Image Compexity Analysis (CICA) System flowchart
                    \begin{minipage}{\textwidth}
                        \centering
                        \includegraphics[width= \linewidth]{Images/ImageComplexityAnalysisFlowchart}
                        \caption{Flowchart illustrating the applications of Computational Image Complexity Analysis, including its role in analyzing complexity scores for historical architectural styles and ranking modeled facades for the VR Building Complexity System.}
                      \label{fig:ImageComplexityAnalysisFlowchart}
                    \end{minipage}
                    \\
                    %Middle cell with two nested figures side by side
                    %%%Figure CICA on historic buildings and renders. Table 1x2
                    \begin{minipage}{\textwidth}
                        \centering
                        % Left figure
                        \begin{minipage}{0.49\textwidth}
                            \includegraphics[width= \linewidth]{Images/ComplexityPlotHistoryCICA}
                            \captionof{figure}{Edge Detection analysis of historic buildings demonstrating complexity assessment.}
                            \label{fig:ComplexityPlotHistory}
                        \end{minipage}
                        \hfill % Spacing between the figures
                        % Right figure
                        \begin{minipage}{0.49\textwidth}
                            \includegraphics[width= \linewidth]{Images/ComplexitPlotRenderCICA}
                            \captionof{figure}{Complexity analysis of 3D-modeled facades for the VR experiment.}
                            \label{fig:ComplexityPlotRenderCICA}
                        \end{minipage}
                    \end{minipage}
                    \\
                    %Bottom cell
                    %Table: Performance Indicators
                    \begin{minipage}{\textwidth}
                        \centering
                        \captionof{table}{Metrics and weights for the calculation of the `Complexity score'}
                        \label{tab:MetricsandWeights}
                        \begin{tabularx}{\textwidth}{p{3.5cm} p{1cm} X X p{1cm}}
                            \toprule
                            \textit{Complexity metric} &
                              \textit{N} &
                              \textit{Metric name/description} &
                              \textit{Quantitative   method} &
                              \textit{Weights} \\ \midrule
                            \textbf{Edge Density} &
                              1 &
                              Edge detection using Canny Edge Detection algorithm for highlighting the most relevant features of a building.
                                &
                              Measured by dividing the number of non-zero (edge) pixels in the edges image by the total number of pixels in the image.
                                &
                              8\\
                            \textbf{Contour count} &
                              2 &
                              Employs contour approximation algorithm for shape analysis to determine intricacy of edges.
                                &
                              Measure by counting the number of segments in an edge.
                                &
                              2\\ \bottomrule
                               &
                               &
                              \textbf{TOTAL} &
                              &
                              \textbf{10}\\ \bottomrule
                        \end{tabularx}
                    \end{minipage}
                \end{tabular}
            \end{table*}

            %f1: Complexity scoring function
            \begin{table}[htb]
                \caption{Complexity scoring function }
                \label{tab:ComplexityScoreFunction_table}
                \centering
                \small
                \begin{tabular}{|p{8cm}|}
                \hline
                    \textbf{\(f_1\), Unified `Complexity Scoring' function 1}\\
                    \textit{Calculate the complexity score for all the images on the data pool}
                    \\
                    \begin{equation}
                        f_1(x) = \left[ \mathrm{round}\left(\sum_{i=1}^{n} w_i \cdot a_i, 2\right) \right] = complexity\_score
                    \label{eq:F1_ComplexityScoreFunction}
                    \end{equation}

                    \\
                    \textit{ for the Buildings included in the database.}\\
                    \\
                    \textit{where;} \\
                    \\
                    \(n \); is the number of performance indicators \\
                    \(w_i \); represents the i-th elements weight input and \\
                    \(a_i \); represents the i-th normalized score for the respective metric(`Edge Density' and `Contour Count').\\
                    \\

                    \textit{Finally, the `Complexity score' is assigned to each building for data visualization.}\\
                \hline
                \end{tabular}
            \end{table}

            %% Figure of Complexity graph
            \begin{figure*}[!htb]
                  \centering
                  \includegraphics[width= \linewidth]{Graphs/complexitygraphrender}
                  \caption{Scatter graph showcasing quantitative Computational Image Complexity Analysis scores for the rendering images of the 10 variations for each of the three patterns modeled in Blender, with an overlaid trendline highlighting the complexity level trend towards increased complexity.}
                  \label{fig:complexitygraphRender}
            \end{figure*}


    \subsection{Computational Image Complexity Analysis (CICA) system}
    \label{subsec:Image Complexity analysis}
    \input{text/MethodImageComplexityAnalysis}

    \subsection{VR system for Complexity Analysis in facade design}
    \label{subsec:VRsystemDevelopment}
    \input{text/MethodVRSystemDevelopment}

        \subsubsection{3D Modeling}
        \label{subsubsec:Modeling}
        %% description of things modeled in blender for use in the experiment
        \input{Text/Method3DModeling}

        \subsubsection{Computational Image Complexity Analysis (CICA) system for facade variations}
        \label{subsubsec:CICAforFacades}
        %% description of CICA applicationnn forfacade variation modeled in blender for use in the experiment
        \input{Text/MethodCICAforFacades}

            %!%Figures of VR integration
            %% Figure of interior and exterior VR
            \begin{figure}[htb]
                \centering
                \includegraphics[width= \linewidth]{Images/VRInteriorExterior}
                \caption{Comparison side by side of the VR simulation of interior and exterior of existing laboratory building used for experiment (Left) and VR Simulation of facade variation (Right) used for complexity Analysis.}
                \label{fig:VRInteriorExterior}
            \end{figure}

            %% Figure of VR interface
            \begin{table*}[htb]
                \centering
                \small
                \begin{tabular}{c}
                    %Top cell
                    % Optimization Flowchart
                    \begin{minipage}{\textwidth}
                        \centering
                          \includegraphics[width= \linewidth]{Images/VRInterface}
                        \captionof{figure}{VR interface for Complexity tolerance analysis in facade design. Predetermined cameras(1), Slider with variations of facades by level of complexity(2), Render preview of building with facade design (3), Comparison scatter graph with individual complexity scores of facade variations (4), Save and reset buttons (5) also used to transition among the three patterns.}
                        \label{fig:VRinterface}
                    \end{minipage}
                \end{tabular}
            \end{table*}

        \subsubsection{VR integration and data visualization interface}
        \label{subsubsec:VR_integration}
        %%Define the sections of the VR interface and how information is displayed
        \input{Text/MethodVR_Integration}

    \subsection{Experiment design}
    \label{subsec:Experiment_design}
    %%Task description, stage 1 to 3 with survey
    \input{Text/ExperimentDesign}

            %!Figure of Results for CICA in History Arch Style
            %facade Complexity analysis graph by year and architectural style
            \begin{figure*}[htb]
          \centering
          \includegraphics[width= \linewidth]{Graphs/complexitygraph}
          \caption{Scatter graph showcasing quantitative image complexity analysis scores for building images categorized by historical timeline and architectural style, with an overlaid trendline highlighting the evolving trend towards increased complexity.}
          \label{fig:HistoricalComplexityGraph}
     \end{figure*}

\section{Results}
\label{sec:Results}
%% Results should be clear and concise.
\input{text/ResultsIntro.tex}


    \subsection{Computational Image complexity Analysis (CICA) system results across architectural styles}
    \label{subsec:ResultsComplexityImageAnalysishistory}
    \input{Text/ResultsImageComplexityAnalysisHistory.tex}

    \subsection{Results of experiment on users response to complex facades}
    \label{subsec:ResultsExperiment}
    \input{text/ResultsExperiment.tex}

\section{Discussion}
\label{sec:Discussion}
%% This should explore the significance of the results of the work, not repeat them. A combined Results and Discussion section is often appropriate. Avoid extensive citations and discussion of published literature.
\input{Text/Discussion}

    %\subsection{Future Trends and speculations}
    %\label{subsec:Futuretrends}
    %\input{text/FutureTrendsTheory}

\section{Conclusions}
\label{sec:Conclusion}
%% The main conclusions of the study may be presented in a short Conclusions section, which may stand alone or form a subsection of a Discussion or Results and Discussion section.
\input{Text/Conclusions}

\section{Declaration of Competing Interest}
\label{sec:DeclarationInterest}
%% Declaration of using AI to edit the text
\input{Text/DeclarationInterests}

%\section{Declaration of generative AI and AI-assisted technologies in the writing process}
%\label{sec:Declaration AI}
%% Declaration of using AI to edit the text
%\input{Text/Declaration_AI}

%% End of line numbers
\end{linenumbers}

%% If you have bibdatabase file and want bibtex to generate the
%% bibitems, please use
%%
%\newpage
%\clearpage
\bibliographystyle{elsarticle-num}
\bibliography{main}

%% The Appendices part is started with the command \appendix;
%% appendix sections are then done as normal sections
\newpage
\clearpage
\appendix

\section{Survey}
\label{sec:Annexsurvey}
\input{Text/AnnexSurvey}

\section{Pattern Variations}
\label{sec:AnnexVariations}
\input{Text/AnnexVariations}

\end{document}